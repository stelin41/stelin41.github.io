<!doctype html><html lang=en><head><title>Fixing a macbook with a "broken" GPU :: stelin41</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="One day, my grandma came to me with a macbook pro retina from 2012 and said, &#34;When I turn It on, the display remains completly black. But If I hold the power button until It shuts down, and then I turn it on again, It works. They said the GPU is broken and it will cost 800 bucks to fix. It's not worth It. I'll buy a new MB instead. I'll give you the old MBP and If you can fix it, It's yours.&#34; Challenge accepted..."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://stelin41.github.io/posts/fixing_a_macbook/><link rel=stylesheet href=https://stelin41.github.io/assets/style.css><link rel=stylesheet href=https://stelin41.github.io/assets/green.css><link rel=apple-touch-icon href=https://stelin41.github.io/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://stelin41.github.io/img/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="https://twitter.com/stelin41"><meta name=twitter:creator content="stelin41"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Fixing a macbook with a &#34;broken&#34; GPU"><meta property="og:description" content="One day, my grandma came to me with a macbook pro retina from 2012 and said, &#34;When I turn It on, the display remains completly black. But If I hold the power button until It shuts down, and then I turn it on again, It works. They said the GPU is broken and it will cost 800 bucks to fix. It's not worth It. I'll buy a new MB instead. I'll give you the old MBP and If you can fix it, It's yours.&#34; Challenge accepted..."><meta property="og:url" content="https://stelin41.github.io/posts/fixing_a_macbook/"><meta property="og:site_name" content="stelin41"><meta property="og:image" content="https://stelin41.github.io/img/macbook.jpg"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2021-12-28 00:00:00 +0000 UTC"></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>stelin41</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Home</a></li><li><a href=/contact>Contact</a></li><ul class=menu__sub-inner><li class=menu__sub-inner-more-trigger>Projects ▾</li><ul class="menu__sub-inner-more hidden"><li><a href=/flying>Flying</a></li><li><a href=/laser>Laser</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Home</a></li><li><a href=/contact>Contact</a></li><li><a href=/flying>Flying</a></li><li><a href=/laser>Laser</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://stelin41.github.io/posts/fixing_a_macbook/>Fixing a macbook with a &ldquo;broken&rdquo; GPU</a></h1><div class=post-meta><span class=post-date>2021-12-28</span></div><img src=https://stelin41.github.io/img/macbook.jpg class=post-cover alt='Fixing a macbook with a "broken" GPU' title="Cover Image"><div class=post-content><div><p>One day, my grandma came to me with a macbook pro retina from 2012 and said, &ldquo;When I turn it on, the display remains completly black. But If I hold the power button until it shuts down, and then I turn it on again, it works. They said the GPU is broken and it will cost 800 bucks to fix. It&rsquo;s not worth it. I&rsquo;ll buy a new MB instead. I&rsquo;ll give you the old MBP and If you can fix it, it&rsquo;s yours.&rdquo; Challenge accepted.</p><p>First of all I took a look at the symptoms. It didn&rsquo;t make sense. If the GPU was the problem, it shouldn&rsquo;t be able to output any image, ever. I first thought that the problem was caused by macOS. So I updated macOS to the newest version that was avalible. Guess what? It got worse. It was impossible to get rid of the black screen, even with the trick of forcing it to shut down. Crap.</p><p>Then I remembered that the System report showed only the iGPU. I thought &ldquo;I&rsquo;m dumb&rdquo;. I googled the specs of this machine and it does have a dGPU. I ended up being convinced the hard way. The dGPU was broken. However, I wasn&rsquo;t completly wrong, since macOS was trying to use a &ldquo;phantom&rdquo; dGPU instead of the iGPU. So I started looking for some way to permanently disable the dGPU.</p><p>I found <a href=https://forums.macrumors.com/threads/force-2011-macbook-pro-8-2-with-failed-amd-gpu-to-always-use-intel-integrated-gpu-efi-variable-fix.2037591/>this</a> post, where the poster changed an EFI variable, which is in the NVRAM, to disable the dGPU. That is possible using the single user mode, or booting into an Arch Linux LiveUSB. But there was a problem, I wasn&rsquo;t able to get into the single user mode, nor boot into Arch, because all I had was a black screen. Then I had an idea. Since the bootloader looks for all the bootable devices, and will follow a pre-established order to decide where to boot into, I could remove the internal SSD in order to force the bootloader to boot into the LiveUSB. After doing that, I typed (with the screen still black):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>&gt; speaker-test</code></pre></div><p>Then I heard a <em>Beeeeep</em>. It worked!</p><p>Next, I got it&rsquo;s IP address from the router&rsquo;s network map, and used ssh to be able to see what I type. I put the SSD back, re-scanned all the disks, mounted the macOS partition, and I was ready to go! Finally, I ran the commands shown in the post, rebooted, and the screen was working again!</p><p>However, I didn&rsquo;t even thought about <em>actually</em> trying to fix the GPU, until much later, when I happened to find this video from Louis Rossmann.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube-nocookie.com/embed/naXglCTEtLw style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>So I reset the NVRAM and the screen was black again&mldr; as expected. I downloaded the schematics, disassembled the laptop, turned it on, and began to measure some voltages with my polymeter. When I checked the voltage going to the screen I got 0 volts. Huh, no wonder why it wasn&rsquo;t working. After, I measured the vcore (the voltage that is supplied to the dGPU), and I got 0 volts too! U8900 is the chip that manages these voltages, a.k.a. the power supply, wich apparently has cracked welds. It&rsquo;s almost literally falling off the board. Why? Because that&rsquo;s what Apple does! So with a bit of help I reinforced the welds, reassembled everything, and booted again. And wow, it worked!</p><p>Right now im writing this from the MBP using nvim! I&rsquo;m really happy!</p></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© stelin41 2022</span></div></div></footer><script src=https://stelin41.github.io/assets/main.js></script><script src=https://stelin41.github.io/assets/prism.js></script></div></body></html>